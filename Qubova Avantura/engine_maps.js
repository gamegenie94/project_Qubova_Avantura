var ctx = null;

var tileset = null, tilesetURL = "img/tileset.png", tilesetLoaded = false;

var floorTypes = {
	solid		: 0, 
	path1		: 1,
	path2		: 2,
	win		 	: 3,
	gumb1	 	: 4,
	gumb2	 	: 5,
	gumb3		: 6,
	door1		: 7,
	door2		: 8,
	door3		: 9,
	door4		: 10,
	question1	: 11,
	question2	: 12,
	question3	: 13
};

//TIP PLOCICE
var tileTypes = {
	0   : {floor:floorTypes.solid, sprite:[{x:0,y:0,w:40,h:40}]}, //ZID
	1   : {floor:floorTypes.path1, sprite:[{x:40,y:0,w:40,h:40}]}, //OBICNA PLOCA
	2   : {floor:floorTypes.path2, sprite:[{x:120,y:120,w:40,h:40}]}, //STEPENICE
	3   : {floor:floorTypes.win, sprite:[{x:120,y:160,w:40,h:40}]}, //STEPENICE ZA SLJEDECI KAT
	4   : {floor:floorTypes.gumb1, sprite:[{x:200,y:120,w:40,h:40}]}, //PLAVI GUMB
	5   : {floor:floorTypes.gumb2, sprite:[{x:200,y:160,w:40,h:40}]}, //NARANČASTI GUMB
	6   : {floor:floorTypes.gumb3, sprite:[{x:200,y:200,w:40,h:40}]}, //ZELENI GUMB
	7   : {floor:floorTypes.door1, sprite: [{x:0,y:40,w:40,h:40}]}, //PLAVA VRATA
	8   : {floor:floorTypes.door2, sprite: [{x:40,y:40,w:40,h:40}]}, //NARANČASTA VRATA
	9   : {floor:floorTypes.door3, sprite: [{x:80,y:40,w:40,h:40}]}, // ZELENA VRATA
	10  : {floor:floorTypes.door4, sprite: [{x:0,y:80,w:40,h:40}]}, //CRVENA VRATA
	11	: {floor:floorTypes.question1, sprite: [{x:160,y:120,w:40,h:40}]}, //PLAVO PITANJE
	12	: {floor:floorTypes.question2, sprite: [{x:160,y:160,w:40,h:40}]}, //NARAČASTO PITANJE
	13	: {floor:floorTypes.question3, sprite: [{x:160,y:200,w:40,h:40}]} //ZELENO PITANJE
};

//MAPA
var gameMap = [[
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,1,1,1,0,1,1,1,0,1,1,6,0,1,0,1,1,1,0],
	[0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0],
	[0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,13,0,1,0],
	[0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0],
	[0,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,9,1,0],
	[0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0],
	[0,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,1,1,0],
	[0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0],
	[0,1,1,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1,0],
	[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0],
	[0,5,0,1,0,1,1,1,1,1,1,1,1,1,0,1,0,1,0],
	[0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0],
	[0,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,0],
	[0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0],
	[0,1,1,1,0,1,1,1,0,4,0,1,1,11,0,1,0,3,0],
	[0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0],
	[0,1,8,1,1,12,0,1,1,1,7,1,0,1,1,1,10,1,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
],
[
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,1,0,1,0,6,1,1,1,1,0,13,9,1,1,1,1,1,0],
	[0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],
	[0,1,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0],
	[0,1,0,0,0,7,0,1,0,1,0,1,0,0,0,1,0,0,0],
	[0,1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,0],
	[0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0],
	[0,1,0,1,0,1,1,11,0,1,0,1,1,1,0,1,0,1,0],
	[0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0],
	[0,1,1,1,1,1,1,1,0,1,0,1,0,1,0,5,0,1,0],
	[0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0],
	[0,1,0,1,1,1,1,1,1,1,0,1,0,1,0,12,0,1,0],
	[0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,8,0,0,0],
	[0,1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,0,1,0],
	[0,1,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,1,0],
	[0,1,0,4,0,1,0,1,0,1,0,1,0,1,0,1,1,1,0],
	[0,1,0,1,0,0,0,1,0,1,0,1,0,1,0,10,0,0,0],
	[0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,3,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
],
[
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,8,1,12,0],
	[0,0,0,7,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0],
	[0,1,1,1,0,1,0,1,1,1,0,1,1,5,0,1,1,1,0],
	[0,1,0,0,0,1,0,1,0,1,0,1,0,0,0,1,0,1,0],
	[0,11,0,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1,0],
	[0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0],
	[0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0],
	[0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,0,0],
	[0,1,0,1,1,1,0,1,0,1,1,1,0,1,0,1,0,1,0],
	[0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,1,0],
	[0,4,1,1,0,1,1,1,0,1,0,1,0,1,1,1,1,1,0],
	[0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0],
	[0,1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0],
	[0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,1,0],
	[0,1,0,1,1,13,0,6,1,1,0,1,1,1,1,1,1,1,0],
	[0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,10,0],
	[0,1,9,1,1,1,0,1,1,1,1,1,1,1,1,1,0,3,0],
	[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
]
];

var min = 0;
var max = 2;

function getRndInteger(min, max) {
  return Math.floor(Math.random() * (max - min) ) + min;
}
console.log(gameMap);

var tileW = 40, tileH = 40;
var mapW = 19, mapH = 19;
